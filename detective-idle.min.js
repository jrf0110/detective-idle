(function(){var c,e=(c!="undefined"&&c!=null),f=(e&&c.hasOwnKey("on"))?"on":"bind",b=function(h,g,i){return e?c(h).on(g,i):h.addEventListener(g,i)},a=function(j,i){var h={};for(var g in j){if(i.hasOwnProperty(g)){if(typeof j[g]=="object"&&g!="el"){h[g]=a(j[g],i[g])}else{h[g]=i[g]}}else{h[g]=j[g]}}return h};var d={idleInterval:60000,el:document,monitoredEvents:{mousemove:true,click:true,touchmove:true,touchstart:true,keypress:true}};DetectiveIdle=(function(){var g=function(k,i){this.timeout=k;this.options=a(d,i);this.idle=0;this.idleInterval=this.options.idleInterval;this.interval=false;this.events={};this.eventTimes=[];this.eventTimesFired=[];var h=this,l=function(m){h.reset(m)};for(var j in this.options.monitoredEvents){this.options.monitoredEvents[j]&&b(this.options.el,j,l)}return this};g.prototype={start:function(){var h=this;!this.interval&&(this.interval=setInterval(function(){h._onTick()},this.idleInterval));return this},stop:function(){clearInterval(this.interval);this.interval=false;this.reset();return this},reset:function(){this.idle=0;if(this.eventTimesFired.length>0){this.eventTimes=this.eventTimes.concat(this.eventTimesFired);this.eventTimesFired=[]}return this},at:function(i,h){return this.on(i,h)},on:function(i,h){this._on(i+"",h);typeof i!="string"&&this.eventTimes.push(i);return this},_on:function(h,i){if(Object.prototype.toString.call(i)[8]!="F"){throw new TypeError}if(this.events.hasOwnProperty(h)){this.events[h].push(i)}else{this.events[h]=[i]}return this},_trigger:function(j,h){if(this.events.hasOwnProperty(j)){for(var l=this.events[j],k=0;k<l.length;k++){l[k].apply(this,h)}}return this},_triggerWarning:function(h){this._trigger(this.eventTimes[h]+"",this);this.eventTimesFired.push(this.eventTimes[h]);var j=this.eventTimes.slice(h+1);this.eventTimes.length=h;this.eventTimes.push.apply(this.eventTimes,j);return this},_onTick:function(){this.idle+=this.idleInterval;for(var h=0;h<this.eventTimes.length;h++){this.idle>=this.eventTimes[h]&&this._triggerWarning(h)}if(this.idle>=this.timeout&&this.idle!=-1){this.stop();this._trigger("timeout")}}};return g})()}).call(this);